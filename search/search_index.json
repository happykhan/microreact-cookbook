{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to The Microreact Cookbook","text":"<p>This 'cookbook' has a collection of examples or 'recipes' to show you how to make the most of Microreact. Microreact is a free and online visualisation tool, primarily for genomic data but it can be used for a variety of data visualisation use cases. The typical use case is to create stunning interactive data visualisations as this example shown below. </p> <p></p> <p>Here are figures from a Microreact project based on data from Dudas et al. (2017)<sup>1</sup>. You can view the interactive dashboard at https://microreact.org/project/west-african-ebola-epidemic</p> <ul> <li>All examples here use the publicly available version of Microreact at microreact.org</li> <li>For detailed description of specific features in Microreact, please read the manual</li> <li>If you have feedback and questions about Microreact, please see the contact instructions here</li> </ul> <p>Tip</p> <p>Microreact can be installed behind your firewall to enable you to visualise sensitive data safely. To request a quote for the supported, Docker-packaged instance, please email microreact(at)cgps.group.</p>"},{"location":"#license","title":"License","text":"<p>Unless otherwise stated, content presented here is under a CC BY-SA 4.0 licence, which basically means you are free to:</p> <ul> <li>Share \u2014 copy and redistribute the material in any medium or format for any purpose, even commercially.</li> <li>Adapt \u2014 remix, transform, and build upon the material for any purpose, even commercially.</li> </ul> <p>Given:</p> <ul> <li>Attribution \u2014 You must give appropriate credit , provide a link to the license, and indicate if changes were made . You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</li> <li>ShareAlike \u2014 If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.</li> </ul>"},{"location":"#how-to-use-this-cookbook","title":"How to use this cookbook","text":"<p>The best way to use this cookbook is to browse the various recipes listed on the right, and try to recreate them yourself with the example data provided. These will hopefully provide inspiration for possible visualisations you can create with your own data. You can save these recipes as a pdf, by using your browser's print function and choosing Save as pdf as the printer. </p> <p>If you have never used Microreact before, please start with the recipe, Microreact classic - uploading data. If you are feeling adventurous you can try a detail tutorial that include a number of recipes here.</p> <ol> <li> <p>Dudas G et al. Virus genomes reveal factors that spread and sustained the Ebola epidemic. Nature. 2017 Apr 20;544(7650):309-315. doi: 10.1038/nature22040 \u21a9</p> </li> </ol>"},{"location":"about-microreact/","title":"About Microreact","text":"<p>Microreact is software developed by the Centre for Genomic Pathogen Surveillance (CGPS) that allows you to upload, visualise and explore any combination of clustering (trees), geographic (map) and temporal (timeline) data. Other metadata variables are displayed in a table. You can specify colours and/or shapes to display on the map, tree and/or timeline. A permanent URL is produced for you to share your Microreact, or a .microreact file can be downloaded for sharing with collaborators.</p> <p>Microreact (https://microreact.org/) is a web-based application for the provision of interactive data visualisations. It enables the rapid generation and linkage of trees, maps, networks, charts and timelines, enabling epidemiologists and key decision makers to react faster and with greater accuracy.</p> <p>Microreact can be deployed securely on a local server, behind firewalls and adhering to local data governance. Users can make their Microreact projects findable on the network, or share them privately with another user by sharing a downloaded project or using secret links. Microreact projects for public consumption can be shared on the public Microreact site.</p> <p>Notably, unlike other data visualisation platforms with pre-specified and fixed combinations of data, Microreact permits substantial customisation of data fields, maps, charts, colours, and layouts, and these views can be filtered and saved to facilitate shared understanding of complex public health data.</p> <p>Specific needs can be addressed by further customisation of Microreact\u2019s visual components, including tailored creation of many types of charts. The original data files can be downloaded by anyone who can view a project, enabling collaborators or the research community to further explore the data. Microreact can be updated automatically from various data sources, including the output of a Data-flo or Epicollect5 project.</p>"},{"location":"adding-charts/","title":"Creating charts","text":"<p>Prepared by Nabil-Fareed Alikhan. Last updated 2024-04-04</p> <p>Microreact provides charting feature, where you can show any data within your data file as a chart. In this recipe, we will plot serovar prediction, genotyping results and genome assembly metrics from a collection of Salmonella isolates. We will: </p> <ul> <li>use the in-built bar chart options provided by Microreact first, </li> <li>and then create a box and whisker plot using the custom chart feature. </li> </ul> <p>Tip</p> <p>Microreact is a flexible platform, you do not need to have a phylogenetic tree or geographic data to make use of it. </p> <p>The final output should like this, which shows multiple plots of number of isolates in this study grouped by country and serovar, and plots showing assembly metrics such as N50 and total assembled bases grouped by serovar. </p> <p></p> <p>Tip</p> <p>Please complete prequisite recipe about uploading to Microreact. </p>"},{"location":"adding-charts/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Adding new panels</li> <li>Creating a stacked bar plot </li> <li>Using Vega for custom charts (box plot)</li> <li>Exporting images</li> <li>Renaming chart panels </li> </ul>"},{"location":"adding-charts/#about-this-dataset","title":"About this dataset","text":"<p>To illustrate these aspects of Microreact, we will use the dataset described in Alikhan et al. (2022)<sup>1</sup>. This study look at non-typhoidal Salmonella enterica, often from contaminated poultry meat, causes diarrhoeal disease. This study examines 183 Brazilian chicken and 357 UK-imported poultry product genomes. In this dataset, Salmonella Heidelberg and Minnesota predominate in Brazil and imported meat.</p> <p>For this exercise you will require the following files:</p> <ul> <li>Link to metadata table</li> </ul>"},{"location":"adding-charts/#create-a-stacked-bar-chart-with-the-built-in-charting-feature","title":"Create a stacked bar chart with the built-in charting feature","text":"<p>A stacked bar chart is useful for its simplicity and clarity, facilitating easy comparison of categorical data. It offers flexibility in representing various data types and can be visually impactful, making it accessible to diverse audiences. Using the moudlar panels in Microreact, you can show a number of charts, alongside other panels showing maps, phylogenetic trees or networks. This section focuses specifically on making a bar chart, but other charts are possible in Microreact as we will see in the next section. </p>"},{"location":"adding-charts/#tutorial","title":"Tutorial","text":"<p>You should be able to upload the metadata table and have a new Microreact project. If you are unsure how to do that please complete prequisite recipe about uploading to Microreact. When you load in the data, the data table will appear as one panel filling the screen. </p> <p></p> <p>To add the chart, click the pencil icon in the top right, and select add chart from the drop down. </p> <p></p> <p>This will give you a box outline which allows you to choose the location of the panel. Click on the top half of the existing data panel view. The screen will now be split in half, with the top half showing a blank chart panel, and the bottom half showing the data table from before. This is shown below. </p> <p></p> <p>Tip</p> <p>There a mutiple menus in Microreact, There is a global settings menu in the top right of the screen (on the green bar), and each and every panel you create has its own settings menu in the top right of the panel.  There is more information about the chart settings in the Microreact documentation</p> <p>All the settings for the chart are controlled by the settings in the top right of the panel. As shown in the example below, there are five main setting options:</p> <ul> <li>Chart type: controls the type of chart. The custom option allows you specify a custom graph using the Vega Lite specifications, which will be shown in the next section. </li> <li>X axis: The horizontal.  </li> <li>Y axis: The vertical.</li> <li>Colour: defines the series to be coloured (which variables are charted against each other for comparison).</li> <li>Facet: While the Colour Column plots values separately for each Colour Column value, they all use the same primary axis. The Facet Column splits them into separate charts. Setting the number of columns and rows changes the display layout of the charts. Setting one row per facet makes a very similar chart to selecting the \"Row view\" colour options.</li> </ul> <p>If you cannot see this, click the settings button (second from the right) to show these option. Clicking the settings button again will hide the menu. </p> <p>For this recipe: </p> <ul> <li>Select \"Bar chart\" under Chart Type. </li> <li>Under X axis, set the column as \"Serovar\"</li> <li>Leave Y axis as is, which is \"Frequency (number of entries)\"</li> <li>Under Colour, set the colour column as \"ST\"</li> <li>Under Facet, set the column to \"Country\"</li> </ul> <p>Warning</p> <p>These column names refer to the column names in the data file (at the bottom). These names are case sensitive, so capitalisation is important. In this example, you need to set the X axis column as \"Serovar\", not \"serovar\" or \"SEROVAR\". Most aspects of Microreact are case sensitive.</p> <p></p> <p></p> <p></p> <p>You will now see some charts in the chart panel. Note that the data has been split into multiple charts based on the country information, which is what the Facet option controls. To remove the facet setting, click the (X) button next to the word \"Facet\". There will be up to four, with the fourth going off the screen at the right, as shown below. You may see less depending on your screen size. Either way, we do not want this many charts.  We only want to show two charts, where country is either \"Brazil\" or \"Brazil (import)\". We can filter the data in data table (at the bottom) and this will be reflected in the chart. </p> <p></p> <p>Navigate to the country column in the data table, you may need to scroll the data table to the right to find it. Then click the filter options, which is the graudated chevon button to the right of the column name \"Country\". The filter menu will allow you to pick the values to retain -- in this case select \"Brazil\" and \"Brazil (import)\". It should look like the image below. If you recall, this shows what was mentioned in the description of the dataset - that for this dataset Salmonella Heidelberg and Minnesota predominate in Brazil and imported meat.</p> <p></p> <p>The number of charts will change to two charts, one for \"Brazil\" and \"Brazil (import)\". The chart title will indicate which is which. </p> <p></p> <p>Remember, you can export these charts as .svg or .png so you can use them in any presentation, report or manuscript you are preparing. Just click the button in the top right (three lines/hamburger button) and select the format you prefer, either png or svg. </p> <p></p>"},{"location":"adding-charts/#create-a-box-and-whisker-plot-with-the-custom-charting-feature","title":"Create a box and whisker plot with the custom charting feature","text":"<p>A box plot provides a concise summary of the distribution of a dataset, showing the median, quartiles, and outliers. It offers insights into central tendency, spread, and skewness, aiding in identifying variability and detecting potential anomalies or differences between groups, making it valuable in statistical analysis and data visualization. You can create one in Microreact, to show along side other visual elements. </p>"},{"location":"adding-charts/#tutorial_1","title":"Tutorial","text":"<p>You should use the existing project we created for the stacked bar plot above. First, create a new chart panel, and place it between the stacked bar chart we already made and the data table. From the panel menu, set the Chart type as \"Custom\", which will show an additional menu button called \"Vega Spec\", Click on \"Vega Spec\", which will open a small text box. You can resize the text box with the tag in the bottom right of the text box. Click and drag to resize. </p> <p></p> <p></p> <p></p> <p>Inside this box we can paste a specification (Vega) of the chart. Here is one I prepared already that plots N50 as a box plot. Copy this and paste this in the Vega Spec box. By clicking away, the box will close and the chart should appear. </p> <pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"description\": \"Plot for assembly metrics\",\n  \"mark\": {\n    \"type\": \"boxplot\",\n    \"extent\": \"min-max\"\n  },\n  \"encoding\": {\n    \"x\": {\n      \"field\": \"Serovar\",\n      \"type\": \"nominal\"\n    },\n    \"color\": {\n      \"field\": \"ST\",\n      \"type\": \"nominal\",\n      \"legend\": null\n    },\n    \"y\": {\n      \"field\": \"N50\",\n      \"type\": \"quantitative\",\n      \"scale\": {\n        \"zero\": false\n      }\n    }\n  }\n}\n</code></pre> <p></p> <p>What is Vega lite?</p> <p>Vega-Lite is a high-level visualization grammar built on top of the Vega visualization grammar. It provides a concise JSON syntax for rapidly generating interactive visualizations for data exploration and presentation. Vega-Lite abstracts away low-level details, enabling users to create complex visualizations with minimal code. There are examples that you can adapt and use in microreact on the Vega website.</p> <p>Try repeating this process again and create another plot along side the first one showing \"Total assembled bases\", just like the one below.  </p> <p></p> <p>This means you need to do the following:</p> <ul> <li>Create a new chart panel</li> <li>Pin it next to the other panel showing N50</li> <li>Set the chart type as Custom </li> <li>Paste the vega spec into the Vega Spec Text box, I have given the spec below. </li> </ul> <pre><code>{\n  \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.json\",\n  \"description\": \"Plot for assembly metrics\",\n  \"mark\": {\n    \"type\": \"boxplot\",\n    \"extent\": \"min-max\"\n  },\n  \"encoding\": {\n    \"x\": {\n      \"field\": \"Serovar\",\n      \"type\": \"nominal\"\n    },\n    \"color\": {\n      \"field\": \"ST\",\n      \"type\": \"nominal\",\n      \"legend\": null\n    },\n    \"y\": {\n      \"field\": \"Total assembled bases\",\n      \"type\": \"quantitative\",\n      \"scale\": {\n        \"zero\": false\n      }\n    }\n  }\n}\n</code></pre> <p>Let's look at the spec, it has nested information explaining what to plot. There is a familiar section for x and y axes, and you can see that the field corresponds to the field in the data table. Remember this is case sensitive. There are more details on how to customise plots on the Vega website.</p> <p>After all these steps you should have a view like the one below.</p> <p></p> <p>As a bonus, you might notice that the chart labels (top left of each panel) have a specific description. You can do this yourself by double clicking the chart label (by default this says \"Chart\") and entering in what ever label you like. So you can convert </p> <p></p> <p>To </p> <p></p> <ol> <li> <p>Alikhan NF, Moreno LZ, Castellanos LR, Chattaway MA, McLauchlin J, et al. (2022) Dynamics of Salmonella enterica and antimicrobial resistance in the Brazilian poultry industry and global impacts on public health. PLOS Genetics 18(6): e1010174. https://doi.org/10.1371/journal.pgen.1010174\u00a0\u21a9</p> </li> </ol>"},{"location":"adding-external/","title":"Adding external content","text":"<p>Prepared by Nabil-Fareed Alikhan. Last updated 2024-04-04</p> <p>Most of Microreact's visualisation relies on the provided data table, but you may want to add addtional content for context. This may include extra text and figures. By using the Notes Panel, you can add such content. </p>"},{"location":"adding-external/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Showing an additional text and an external image</li> <li>Markdown</li> </ul>"},{"location":"adding-external/#showing-an-external-image","title":"Showing an external image","text":"<p>In any Microreact project, create a new \"Notes\" panel, and pin it to a suitable location. Click the pencil in the top right of the panel. Paste the following into the Notes box. </p> <pre><code>### This is a cat \n\nA domestic cat is a small carnivorous mammal known for its agility, grace, \nand independent nature, often kept as a companion animal for humans due to \nits affectionate behavior and ability to control pests.\n\n![A cat](https://loremflickr.com/320/240?lock=100)\n</code></pre> <p></p> <p>When you click the Tick in the top right, the Notes panel will render and look like the following. </p> <p></p> <p>What is Markdown?</p> <p>The notes panel accepts a markup language called Markdown, and this is how it can process the link to the image. Markdown is a lightweight markup language that uses plain text formatting syntax to stylize documents. It's commonly used for formatting text on the web, such as creating headings, lists, links, and emphasizing text, without needing complex HTML coding. Markdown is easy to read and write and can be converted into HTML or other formats for web content creation. For more information of what can be shown via markdown please read documentation</p>"},{"location":"basic-upload/","title":"Microreact classic - uploading data","text":"<p>Prepared by Nabil-Fareed Alikhan. Last updated 2024-03-28</p> <p>This recipe will walk you through the basic usage of Microreact, uploading a tree and metadata file for visualisation. </p> <p></p> <p>Warning</p> <p>When using your own data, do not upload sensitive or personally identifiable information to microreact.org.</p>"},{"location":"basic-upload/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Uploading metadata and a tree to microreact</li> <li>Choosing column for mapping tree tip labels to the metadata file</li> <li>Choosing colours for metadata columns</li> </ul>"},{"location":"basic-upload/#about-this-dataset","title":"About this dataset","text":"<p>To illustrate these aspects of Microreact, we will use the dataset described in Reueter et al. (2015)<sup>1</sup>. This study look at Yersinia enterocolitica, a leading cause of food-related gastroenteritis, which is classified into six phylogroups. They provide detailed analyses of the evolutionary processes leading to the emergence of these phylogroups. In particular, genomes belonging to PG3-5 (which is predominant in human infections) exhibit minimal sequence diversity but display significant functional variation, including pathogenicity and metabolism genes. Analysis of the core and accessory genome also suggested that the different Y. enterocolitica phylogroups may be ecologically separated, in contrast to the long-held belief of common shared ecological niches across the Y. enterocolitica species.</p> <p>For this exercise you will require the following files:</p> <ul> <li>Link to the metadata table</li> <li>Link to the phylogenetic tree</li> </ul> <p>Be sure to have these downloaded onto your local computer. </p>"},{"location":"basic-upload/#uploading-files-to-microreact","title":"Uploading files to Microreact","text":"<p>This is the fundermental first step, you must provide data for Microreact to show. </p> <p>First navigate to microreact.org in your web browser. Click the Upload button in the top right. </p> <p></p> <p>The upload button will show an interface as below, you can either drag and drop the download metadata table and phylogenetic tree file you download just prior, or click the Plus button in the bottom right or the center icons to open up a file upload dialog box.</p> <p></p> <p>Tip</p> <p>There are many more file types you can include in Microreact, these are explained here in the official documentation. </p> <p>The Add files dialog will open, displaying the details of the files you just uploaded. This is an oppotunity to check the all the files are uploaded and for you to alter the type of file (under file kind). You can also add additional files if you like. </p> <p>If your window looks like the one below, this is fine. Click continue. </p> <p></p> <p>Whenever you upload a data table, as we have in this case, you will get an additional window to select the colour settings for the different metadata fields. </p> <p>In our example, we are happy with the defaults so click Continue.</p> <p></p> <p>Feel free to repeat this exercise and alter the colour palette as you wish. These decisions are not final. You will have the oppotunity to alter the colour choices later as well.</p> <p></p> <p>Finally, you will be asked to choose and confirm the column that contains the information to map the different files together, in this case, we want to map the metadata in the data file to the tip labels in the tree file. These are basically the strain names in the id column. </p> <p>If your window looks like the one below, click Continue.</p> <p></p> <p>You will now see the Microreact project open with the map, tree and metadata panels open. </p> <p></p> <p>Congratulations! you have succesfully uploaded and displayed some example data in Microreact. Now the real journey begins with customising the display and exploring your data! </p> <p>Feel free to try out another recipe from the menu on the left. </p> <ol> <li> <p>Reuter S, Corander J, de Been M, Harris S, Cheng L, Hall M, Thomson NR, McNally A. Directional gene flow and ecological separation in Yersinia enterocolitica. Microb Genom. 2015 Sep 29;1(3):e000030. doi: 10.1099/mgen.0.000030.\u00a0\u21a9</p> </li> </ol>"},{"location":"showing-metadata-blocks/","title":"Showing metadata alongside a phylogenetic tree","text":"<p>Prepared by Nabil-Fareed Alikhan. Last updated 2024-03-28</p> <p>Microreact can be used to compare a phylogeny with other contextual information. A useful feature of Microreact is to overlay information as 'Metadata blocks' alongside phylogenetic trees. This is the easiest way to do direct comparison with the evolutionary relationships (phylogeny) with other information. In this example we will look at at an existing published dataset and customise the information shown along side the tree. We are aiming to produce a figure like the one below, which shows the drug resistance (red) along side the genetic relationship for a group of sequenced isolates.</p> <p></p> <p>Tip</p> <p>Please complete prequisite recipe about uploading to Microreact. </p>"},{"location":"showing-metadata-blocks/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Overlaying additional genetic data (AMR prediction &amp; genotyping) with evolutionary relationships </li> <li>Basic customisation of visualised trees - changing tip colour.</li> </ul>"},{"location":"showing-metadata-blocks/#about-this-dataset","title":"About this dataset","text":"<p>This example shows data presented in Afolayan et al. (2022)<sup>1</sup>. The study focuses on Escherichia coli bloodstream infections in Nigeria, highlighting their severity and the importance of managing them effectively. It notes the lack of comprehensive data in Nigeria regarding prevalent E. coli lineages, disease-causing attributes, and suitable drugs for treatment. The research conducted antimicrobial susceptibility testing on 68 bloodstream E. coli isolates from three Nigerian hospitals and utilized whole-genome sequencing (WGS) to analyze and characterize these strains.</p> <ul> <li>Link to Microreact project</li> <li>Link to metadata table</li> <li>Link to phylogenetic tree</li> </ul>"},{"location":"showing-metadata-blocks/#tutorial","title":"Tutorial","text":"<p>You be able should upload the metadata table and phylogenetic tree and have a new Microreact project. If you are unsure how to do that please complete prequisite recipe about uploading to Microreact. When you load in the data, the tree will appear in one panel with the tips colored by one of the data table column values. </p> <p></p> <p>Press the icon on the top right of the tree panel. In the Metadata blocks dropdown list, tick all boxes for antimicrobials (in capital letters). In this same menu, you can also customise the block feature scaling with options like 'Block headers' and 'Block Size'. You can export the chart as a seperate image (svg or png) by using the hamburger menu button in the top right. As you click on the different values, a metadata block will appear with the label. In the metadata track, in this case, red means presence and white is absence.  If you need to refer to the legend click the Legend tab on the right, and scroll down.</p> <p></p> <p>Try changing the colour coding for the tree tips by clicking on the 'eye' icon at the top and selecting ST for Colour Column in the menu. </p> <p></p> <p>With these simple steps, you should have a figure in the tree panel similar to the original figure we set out to create. You can export the chart as a seperate image (svg or png) by using the hamburger menu button in the top right. </p> <p></p> <p>Congratulations! You have completed this recipe for Microreact. You can continue by browsing the various recipes listed on the right, and trying to recreate them yourself with the example data provided. These will hopefully provide inspiration for possible visualisations you can create with your own data. </p> <ol> <li> <p>Afolayan AO, Aboderin AO, Oaikhena AO, Odih EE, Ogunleye VO, Adeyemo AT, Adeyemo AT, Bejide OS, Underwood A, Argim\u00f3n S, Abrudan M, Egwuenu A, Ihekweazu C, Aanensen DM, Okeke IN. An ST131 clade and a phylogroup A clade bearing an O101-like O-antigen cluster predominate among bloodstream Escherichia coli isolates from South-West Nigeria hospitals. Microb Genom. 2022 Dec;8(12):mgen000863. doi: 10.1099/mgen.0.000863. PMID: 36748556; PMCID: PMC9837563.\u00a0\u21a9</p> </li> </ol>"},{"location":"an-advanced-tutorial/introduction/","title":"Introduction","text":"<p>Prepared by Nabil-Fareed Alikhan. Originally presented by Natacha Couto and Julio Diaz Caballero. Last updated 2024-03-28</p> <p>This advanced tutorial has been adapted from content presented in the Digital Epidemiology Workshop, hosted in Colombia in September 2023. In this series of exercises, you will use Microreact to gain knowledge regarding a large collection of Klebsiella pneumoniae isolates, sampled from Colombia, between 2013 and 2019. At the end of this series of exercises, you will be able to identify a high risk clone circulating in the country.</p> <p>Note</p> <p>For Microreact documentation, visit https://docs.microreact.org/</p>"},{"location":"an-advanced-tutorial/introduction/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Opening a Microreact project</li> <li>Creating your own copy of a project</li> <li>Creating a new panel </li> <li>Creating a standard stacked bar plot </li> <li>Creating a new chart</li> <li>Customising a chart</li> <li>Updating an existing view</li> <li>Saving changes to a Microreact project</li> <li>Showing metadata along side a phylogeny</li> <li>Customising metadata blocks</li> </ul>"},{"location":"an-advanced-tutorial/introduction/#getting-started","title":"Getting started","text":"<p>Warning</p> <p>You must use either Google Chrome or Mozilla Firefox as your internet browser. </p> <p>The dataset used through these recipes is already available on Microreact. Go to microreact.org/project/kpncolombia and explore the collection of isolates. We will use these data for a series of recipes:</p> <ol> <li>Create an editable project.</li> <li>Present whole genome sequencing quality control (WGS QC) statistics in a chart.\u00a0</li> <li>Explore what are the dominating sequence types (STs) in Colombia.</li> <li>Plot metadata blocks for the carbapenamase genes CTX-M-15, NDM-1, KPC and OXA to answer what are the prevalent AMR mechanisms detected. </li> <li>Explore which STs are associated with the presence of carbapenamase genes. </li> </ol> <p></p> <p>This is a screenshot (above) of a Microreact project called \"Klebsiella pneumoniae Colombia\". Notice the main panels in this project: the map, the tree, the timeline and the saved views.</p> <p>Info</p> <p>You can save these recipes as a pdf, by using your browser's print function and choosing Save as pdf as the printer. </p>"},{"location":"an-advanced-tutorial/step-1/","title":"Creating an editable project","text":"<p>You can take an existing project created by someone else, and copy it for your own investigation. This is a required step to continue with the recipes in this section and is explained here. </p>"},{"location":"an-advanced-tutorial/step-1/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Opening a Microreact project</li> <li>Creating your own copy of a project</li> </ul>"},{"location":"an-advanced-tutorial/step-1/#tutorial","title":"Tutorial","text":"<p>The dataset used through these recipes is already available on Microreact. Go to microreact.org/project/kpncolombia and explore the collection of isolates. </p> <p>Public Microreact projects created by others, such as this one, are read only and cannot be edited by you. For our purposes, we need to make a copy of the project before proceeding. Notice the crossed out pen on right top corner of your screen. This indicates that you cannot edit the current Microreact project. </p> <p></p> <p>We will make our own copy in the following steps. Click the crossed out \"Pen\" symbol in the top right of the screen. A window may appear asking you to \"SIGN IN TO EDIT\". You can sign in using another account, such as google, or you can use your email. When you use your email, a magic link will be sent to your email that will allow you to log-in.</p> <p></p> <p>Once you sign in, the message changes, and you are invited to \"MAKE A COPY\" of the current project. Make a copy, to proceed. Notice that, once you made a copy of the project, the crossed out \"pen\" symbol will change to a \"normal pen\", and you will be able to edit and save the project.</p> <p></p> <p>Now with your own copy of the project you can make any changes you like, without affecting the original. You are now ready to start manipulating the project as described in the next steps: </p> <ol> <li>Present whole genome sequencing quality control (WGS QC) statistics in a chart.</li> <li>Explore what are the dominating sequence types (STs) in Colombia.</li> <li>Plot metadata blocks for the carbapenamase genes CTX-M-15, NDM-1, KPC and OXA to answer what are the prevalent AMR mechanisms detected.</li> <li>Explore which STs are associated with the presence of carbapenamase genes.</li> </ol>"},{"location":"an-advanced-tutorial/step-2/","title":"Showing data in a chart","text":"<p>In this recipe, we will add a chart for some additional information about the genome assemblies, the number of assembled contigs, to show along side the map and tree. It should look like this:</p> <p></p> <p>This is a very useful way to display additional information, beyond the tree and map panels. The plots are integrated with other panels, so clicking on data in the bar plot will highlight these data in the other panels. The charting feature is generic and will plot any data in your provided data table. </p>"},{"location":"an-advanced-tutorial/step-2/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Creating a new panel </li> <li>Creating a standard stacked bar plot </li> </ul>"},{"location":"an-advanced-tutorial/step-2/#tutorial","title":"Tutorial","text":"<p>You should be using the project we opened in the previous step. Please see Creating an editable project and follow the instructions if not. Select the \"Kpn Colombia\" view. Click on the \"Pen\" symbol on the top right menu. Click on the \"Create New Chart\".</p> <p></p> <p>Drag the new chart to overlap with the tree. An empty panel for the new chart will be shown on top of the tree panel.</p> <p></p> <p>In the Chart Type dropdown list select \"Bar Chart\".</p> <p></p> <p>A new window appears. In the X Axis Column, select \"WGS_QC_no_contigs\" and for \"Maximum number of bins\" select 10</p> <p></p> <p>The bar chart will look like above. Observe that most genomes have less the 100 contigs. The colour in this case is coloured by the sequence type (ST). You can change this using the Colour dropdown. You can export the chart as a seperate image (svg or png) by using the hamburger menu button in the top right. </p> <p></p>"},{"location":"an-advanced-tutorial/step-3/","title":"Exploring sequence types","text":"<p>In this recipe we will revisit aspects of the previous recipes in this section and try to interpret the data. In particular, we will chart and review the collected information regarding the isolates' sequence type. The final output will be this chart below. </p> <p></p> <p>What is a sequence type (ST)?</p> <p>The sequence type (ST) refers to a unique combination of alleles at the sequenced loci. Each unique ST represents a distinct strain or clone within the bacterial species under study. MLST data can be used for various purposes, including epidemiological studies, tracking the spread of infectious diseases, and understanding bacterial population dynamics. Sequence types are defined by MLST, which stands for Multi-Locus Sequence Typing. It is a molecular typing method used to characterize the genetic diversity of bacterial strains within a species. In MLST, several housekeeping genes are sequenced from each bacterial isolate. These genes are generally conserved across strains but can accumulate mutations over time. By comparing the sequences of these genes, we can determine the genetic relatedness between different isolates.</p>"},{"location":"an-advanced-tutorial/step-3/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Creating a new chart</li> <li>Customising a chart</li> <li>Updating an existing view</li> <li>Saving changes to a Microreact project</li> </ul>"},{"location":"an-advanced-tutorial/step-3/#tutorial","title":"Tutorial","text":"<p>You should be using the project we opened in the previous steps. Please see Creating an editable project and follow the instructions if not. Now that you've created one chart, you can create another one! Select the \"Kpn Colombia\" view. Click on the Pen symbol on the right hand side and click on \"Create New Chart\".</p> <p></p> <p>The new chart can stay right on top of the previously created one. Notice a white canvas on top of the previously generated chart.</p> <p></p> <p></p> <p>Once again, from the Chart Type dropdown menu, select \"Bar Chart\", and when the new view shows up on the \"X Axis Column\", select ST.</p> <p></p> <p>A new chart will appear. The labels on the x-axis appear squished and they are hard to read. Drag the panel divider on the left hand side of the chart, to increase the width of the panel.</p> <p></p> <p>The information on the x-axis should be readable now. The 3 most abundant STs are ST11, ST258 and ST512.</p> <p></p> <p>Click the \"Views\" panel on the left hand side, hover over \"Kpn Colombia\", click on the three dots on the corner of the view and hit \"Update View\". And finally go to the Save icon on the right corner, press the icon and choose \"Update This Project.</p> <p></p> <p></p>"},{"location":"an-advanced-tutorial/step-4/","title":"Plot metadata blocks for the carbapenamase genes","text":"<p>We have already created charts to visualise data in our Microreact projects. Another useful feature of Microreact is to overlay information as 'Metadata blocks' alongside phylogenetic trees. This is the easiest way to do direct comparison with the evolutionary relationships (phylogeny) with other information. In this recipe, we will show the presence carbapenamase genes alongside the provided phylogenetic tree, just like the figure below. </p> <p></p>"},{"location":"an-advanced-tutorial/step-4/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Showing metadata along side a phylogeny</li> <li>Customising metadata blocks</li> </ul>"},{"location":"an-advanced-tutorial/step-4/#tutorial","title":"Tutorial","text":"<p>You should be using the project we opened in the previous steps. Please see Creating an editable project and follow the instructions if not. Select the \"Kpn Colombia\" view. Press the icon on the top right of the tree panel.</p> <p></p> <p>In the Metadata blocks dropdown list, tick all boxes containing KPC, NDM, VIM, OXA and CTX-M-15 genes. In this same menu, you can also customise the block feature scaling with options like 'Block headers' and 'Block Size'. You can export the chart as a seperate image (svg or png) by using the hamburger menu button in the top right. </p> <p></p> <p>The tree panel will show metadata columns aligned with the tree tips. Yellow indicates presence of a certain gene and green indicates absence. If you need to refer to the legend click the Legend tab on the right, and scroll down. In the panel shown here, it appears that the most common genes present (in yellow) are KPC-2, KPC-3, NDM-1 and CTX-M-15. </p> <p></p>"},{"location":"an-advanced-tutorial/step-5/","title":"Which STs are associated with the presence of carbapenamase genes","text":"<p>In this final recipe for this section we will revisit aspects of the previous recipes in this section and try to interpret the data. In particular, we will compare the phylogent, the isolates' sequence type, and presence of carbapenamase genes. The final output will be this chart below. </p> <p></p>"},{"location":"an-advanced-tutorial/step-5/#microreact-features-demonstrated","title":"Microreact features demonstrated","text":"<ul> <li>Showing metadata along side a phylogeny</li> <li>Customising metadata blocks</li> </ul>"},{"location":"an-advanced-tutorial/step-5/#tutorial","title":"Tutorial","text":"<p>You should be using the project we opened in the previous steps. Please see Creating an editable project and follow the instructions if not. Select the \"Kpn Colombia\" view. Press the icon on the top right of the tree panel. Go to the \"Metadata blocks\" and check the ST box.</p> <p></p> <p>Observe the new metadata column next to the tree, with the header \"ST\".</p> <p></p> <p>In the tree with added metadata blocks, we can observe a large brown block of isolates belonging to ST258. You will need to check the Legend on the very right of Microreact.</p> <p></p> <p>On a close look, we can observe that ST258 is associated with the presence of the carbapenamase gene KPC-3.</p> <p></p> <p>Congratulations! you have completed this advanced tutorial in Microreact. You can continue by browsing the various recipes listed on the right, and trying to recreate them yourself with the example data provided. These will hopefully provide inspiration for possible visualisations you can create with your own data.</p>"}]}